(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7058a66a"],{"41ca":function(e,t,n){"use strict";n("9a0e")("anchor",(function(e){return function(t){return e(this,"a","name",t)}}))},"6de0":function(e,t,n){"use strict";var i=n("9ecb"),s=n.n(i);s.a},"9a0e":function(e,t,n){var i=n("e46b"),s=n("238a"),a=n("f6b4"),r=/"/g,o=function(e,t,n,i){var s=String(a(e)),o="<"+t;return""!==n&&(o+=" "+n+'="'+String(i).replace(r,"&quot;")+'"'),o+">"+s+"</"+t+">"};e.exports=function(e,t){var n={};n[e]=t(o),i(i.P+i.F*s((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3})),"String",n)}},"9ecb":function(e,t,n){},fdb2:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{ref:"canvas",staticClass:"canvas"}),n("img",{staticClass:"logo",attrs:{src:"common/images/logo.png",id:"logo"}})])},s=[],a=n("4154"),r=n("3d4c"),o=n("52ab");function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function h(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}n("cc57"),n("41ca");function m(e,t,n){var i=new PIXI.spine.Spine(res[t.animate_name].spineData),s=i.state.setAnimation(0,e,n);return i.x=parseFloat(t.x),i.y=parseFloat(t.y),i.scale.set(t.scale,t.scale),i.time=1e3*s.animation.duration,i}function d(e){var t=new PIXI.Sprite(res[e.image_name].texture);return t.x=parseFloat(e.x),t.y=parseFloat(e.y),t.width=parseFloat(e.width),t.height=parseFloat(e.height),t.anchor.set(.5,.5),t.x=t.x+t.width/2,t.y=t.y+t.height/2,t}function c(e){var t=new PIXI.Sprite(res[e.image_name].texture);return t.anchor.set(.5,.5),t}var g,p=function(){function e(){u(this,e)}return h(e,[{key:"init",value:function(e,t){if(!1!==question.one.before.closeStart)if(0==store.state.pageNumber){var n,i,s;if(""!=question.one.before.animateBg.animate_name&&(n=m("animation",question.one.before.animateBg,!0),n.interactive=!0,e.addChild(n)),""!=question.one.before.animateBtn.animate_name){var a;i=m("idle",question.one.before.animateBtn,!0),i.interactive=!0,i.buttonMode=!0,e.addChild(i),""!=question.one.before.audioBtn.audio_name&&(a=res[question.one.before.audioBtn.audio_name].sound,a.singleInstance=!0),i.on("pointertap",(function(){i.interactive=!1,i.state.setAnimation(0,"touch",!1),s&&(s.visible=!1),a&&(a.play(),setTimeout((function(){a.pause()}),1e3)),n.state.setAnimation(0,"touch",!1),n.state.addListener({complete:function(e,s){if(i.visible=!1,n.visibe=!1,0==question.one.before.muteBtn.isMute&&""!=question.one.before.audioBg.audio_name){var a=res[question.one.before.audioBg.audio_name].sound;a.singleInstance=!0,a.loop=!0,a.play()}n.visible=!1,setTimeout((function(){t.status="end"}),200)}})}))}!0===question.one.before.muteBtn.isShow&&""!=question.one.before.muteBtn.image_name&&(s=d(question.one.before.muteBtn),s.interactive=!0,s.buttonMode=!0,e.addChild(s),s.on("pointertap",(function(){!1===question.one.before.muteBtn.isMute?(s.texture=new PIXI.Texture(res[question.one.before.muteBtn.name].texture),question.one.before.muteBtn.isMute=!0):(s.texture=new PIXI.Texture(res[question.one.before.muteBtn.image_name].texture),question.one.before.muteBtn.isMute=!1)})))}else setTimeout((function(){t.status="end"}),200);else setTimeout((function(){t.status="end"}),200)}}]),e}(),f=(n("6d57"),{status:{currentTable:"",number:1,show:[],timeChange:"",right:"",timeEnd:"",changeMenu:"",sendDown:"",gameOver:""}}),b=f,v=n("9a33"),w=function(){function e(){u(this,e),this.wrongSound=null,this.lostSound=null,this.changeSound=null,this.endSound=null,this.clickSound=null,this.hitSound=null,this.yohoSound=null}return h(e,[{key:"init",value:function(){var e=parseInt(Math.random()*question.sources[store.state.pageNumber].sound.wrong.length),t=parseInt(Math.random()*question.sources[store.state.pageNumber].sound.lost.length),n=parseInt(Math.random()*question.sources[store.state.pageNumber].sound.change.length);this.wrongSound=res[question.sources[store.state.pageNumber].sound.wrong[e].audio_name].sound,this.wrongSound.singleInstance=!0,this.lostSound=res[question.sources[store.state.pageNumber].sound.lost[t].audio_name].sound,this.lostSound.singleInstance=!0,this.changeSound=res[question.sources[store.state.pageNumber].sound.change[n].audio_name].sound,this.changeSound.singleInstance=!0,this.endSound=res[question.sources[store.state.pageNumber].sound.end.audio_name].sound,this.endSound.singleInstance=!0,this.clickSound=res["audio_click"].sound,this.hitSound=res["audio_hit"].sound,this.yohoSound=res["audio_yoho"].sound,this.clickSound.singleInstance=!0,this.hitSound.singleInstance=!0,this.yohoSound.singleInstance=!0}},{key:"playSound",value:function(e){switch(this.pauseSound(),e){case"wrong":this.wrongSound.play();break;case"lost":this.lostSound.play();break;case"change":this.changeSound.play();break;case"end":this.endSound.play();break;case"click":this.clickSound.play();break;case"hit":this.hitSound.play();break;case"yoho":this.yohoSound.play();break;default:break}}},{key:"pauseSound",value:function(){this.wrongSound.pause(),this.changeSound.pause(),this.lostSound.pause(),this.endSound.pause(),this.clickSound.pause(),this.hitSound.pause(),this.yohoSound.pause()}},{key:"endDuragion",value:function(){return 1e3*this.endSound.duration}}]),e}(),x=function(){function e(t){u(this,e),this.gameBox=t,this.element={},this.hitArr=[],this.countroulUp=!1,this.curMc=null,this.tempNum=0,this.isSend=!1}return h(e,[{key:"init",value:function(){var e=new PIXI.Container;this.gameBox.addChild(e);var t=[],n=0,i=[[135,210],[135,360],[135,510],[135,660],[135,810],[135,960]];question.sources[store.state.pageNumber].drags.option.forEach((function(s,a){var r=d(s);r.src=s.image_name,r.obs=s.obs,r.sound=res[s.audio_name].sound,r.sound.singleInstance=!0,r.card0=c(s.img0),r.card1=c(s.img1),e.addChild(r),r.count=0,0==r.obs&&(r.num=n,n++),t.push(r),a<4?r.position.set(i[a+1][0],i[a+1][1]):r.position.set(i[5][0],i[5][1]),r.ox=i[0][0],r.oy=r.y}));var s=PIXI.Sprite.fromImage(res["image_top"].url);s.anchor.set(.5,.5),s.position.set(130,250),this.gameBox.addChild(s);var a=PIXI.Sprite.fromImage(res["image_down"].url);a.anchor.set(.5,.5),a.position.set(130,930),this.gameBox.addChild(a),t.length<=4?(a.visible=!1,s.visible=!1):a.visible=!1;var r=PIXI.Sprite.fromImage(res["image_send0"].url);r.textureArr=[new PIXI.Texture(res["image_send0"].texture),new PIXI.Texture(res["image_send1"].texture)],r.texture=r.textureArr[1],r.anchor.set(.5,.5),r.position.set(330+r.width/2,500+r.height/2),r.on("pointerdown",this.sendClick.bind(this)),r.on("pointerup",this.sendUp.bind(this)),r.on("pointerupoutside",this.sendUp.bind(this)),this.gameBox.addChild(r);var o=new PIXI.Graphics;o.beginFill(0,.5),o.drawRect(0,35,630,600),o.endFill(),o.position.set(40,250),this.gameBox.addChild(o),e.mask=o;var u=new PIXI.Graphics;u.beginFill(16746598,0),u.drawRect(0,0,355,320),u.endFill(),u.position.set(300,150),this.gameBox.addChild(u);var l=new PIXI.TextStyle({fontSize:question.sources[store.state.pageNumber].table.fontSize,wordWrap:!0,fontWeight:"bold",fill:question.sources[store.state.pageNumber].table.color,fontFamily:"微软雅黑"}),h=new PIXI.Text(question.sources[store.state.pageNumber].table.tableNum.table0,l);h.position.set(u.x+u.width/2-h.width/2,90),this.gameBox.addChild(h);var m=0,g=!1,p=null,f=PIXI.Sprite.fromImage(res["image_tip"].url);f.position.set(640,50),f.visible=!1,this.gameBox.addChild(f);var v=this;Object.defineProperty(b.status,"currentTable",{set:function(e){h.text=e,h.position.set(u.x+u.width/2-h.width/2,90),b.status.show.length>=2?f.visible=!0:f.visible=!1}}),Object.defineProperty(b.status,"gameOver",{set:function(e){v.hitArr.forEach((function(e){e.visible=!1}))}}),Object.defineProperty(b.status,"timeEnd",{set:function(e){v.hitArr.forEach((function(e){e.visible=!1})),v.hitArr=[],r.scale.set(1,1),r.texture=r.textureArr[1],r.interactive=!1,r.buttonMode=!1}});var x=new PIXI.spine.Spine(res["animation_xingxing"].spineData);this.gameBox.addChild(x),x.alpha=0;var y=new w;y.init(),Object.assign(this.element,{upBtn:s,downBtn:a,sendBtn:r,dragArr:t,positionArr:i,currentNum:m,isDraging:g,currentMc:p,text:h,hitArea:u,rightAnimate:x,sound:y})}},{key:"start",value:function(){var e=this;this.element.upBtn.interactive=!0,this.element.upBtn.buttonMode=!0,this.element.downBtn.interactive=!0,this.element.downBtn.buttonMode=!0,this.element.upBtn.on("pointertap",this.upClick.bind(this)),this.element.downBtn.on("pointertap",this.downClick.bind(this)),this.element.dragArr.forEach((function(t){t.interactive=!0,t.buttonMode=!0,t.on("pointerdown",e.mouseDown.bind(e))})),stage.on("pointermove",this.stageMove.bind(this)),stage.on("pointerup",this.stageUp.bind(this)),stage.on("pointerupoutside",this.stageUp.bind(this))}},{key:"upClick",value:function(e){var t=this;if(this.element.dragArr[this.element.dragArr.length-1].y!=this.element.positionArr[4][1]){this.element.downBtn.visible=!0,this.element.upBtn.interactive=!1,this.element.downBtn.interactive=!1;for(var n=0;n<5;n++)this.element.dragArr[this.element.currentNum+n].oy=this.element.positionArr[n][1],v["TweenMax"].to(this.element.dragArr[this.element.currentNum+n],.5,{y:this.element.positionArr[n][1],onComplete:function(){t.element.upBtn.interactive=!0,t.element.downBtn.interactive=!0,t.element.dragArr[t.element.dragArr.length-1].y==t.element.positionArr[4][1]&&(t.element.upBtn.visible=!1)}});this.element.currentNum++}}},{key:"downClick",value:function(e){var t=this;if(this.element.dragArr[0].y!=this.element.positionArr[1][1]){this.element.upBtn.visible=!0,this.element.upBtn.interactive=!1,this.element.downBtn.interactive=!1,this.element.currentNum--;for(var n=0;n<5;n++)this.element.dragArr[this.element.currentNum+n].oy=this.element.positionArr[n+1][1],v["TweenMax"].to(this.element.dragArr[this.element.currentNum+n],.5,{y:this.element.positionArr[n+1][1],onComplete:function(){t.element.upBtn.interactive=!0,t.element.downBtn.interactive=!0,t.element.dragArr[0].y==t.element.positionArr[1][1]&&(t.element.downBtn.visible=!1)}})}}},{key:"mouseDown",value:function(e){this.element.currentMc=PIXI.Sprite.fromImage(res[e.currentTarget.src].url),this.element.currentMc.anchor.set(.5,.5),this.element.currentMc.num=e.currentTarget.num,this.element.currentMc.x=e.currentTarget.ox,this.element.currentMc.y=e.currentTarget.oy,this.element.currentMc.ox=e.currentTarget.ox,this.element.currentMc.oy=e.currentTarget.oy,this.element.currentMc.obs=e.currentTarget.obs,this.element.disX=e.data.global.x-parseInt(this.element.currentMc.x),this.element.disY=e.data.global.y-parseInt(this.element.currentMc.y),this.element.isDraging=!0,this.gameBox.addChild(this.element.currentMc),this.countroulUp=!0}},{key:"stageMove",value:function(e){1==this.element.isDraging&&(this.element.currentMc.x=e.data.global.x-this.element.disX,this.element.currentMc.y=e.data.global.y-this.element.disY)}},{key:"stageUp",value:function(e){if(this.element.isDraging=!1,0!=this.countroulUp&&(this.countroulUp=!1,this.element.currentMc)){if(this.curMc&&(this.curMc.visible=!1),b.status.show.length<=0)return void this.wrongFunc(this.element.currentMc);var t=this.hitTestRectangle(this.element.currentMc,this.element.hitArea);t>this.element.currentMc.width*this.element.currentMc.height/3?1==this.element.currentMc.obs?this.wrongFunc(this.element.currentMc):1==b.status.number?this.hitArr.length>=1?this.wrongFunc(this.element.currentMc):this.element.currentMc.num==b.status.show[0].menu[0]?(this.element.currentMc.position.set(470,300),this.element.currentMc.scale.set(1,1),this.hitArr.push(this.element.currentMc),this.rightFunc(0)):this.wrongFunc(this.element.currentMc):0==this.hitArr.length?this.hitArr.length>=1?this.wrongFunc(this.element.currentMc):this.element.currentMc.num==b.status.show[0].menu[0]||this.element.currentMc.num==b.status.show[0].menu[1]?(this.element.currentMc.position.set(385,300),this.element.currentMc.scale.set(.8,.8),this.hitArr.push(this.element.currentMc),this.tempNum++,this.rightFunc(0)):this.wrongFunc(this.element.currentMc):this.hitArr.length>=2||this.element.currentMc.num==this.hitArr[0].num||this.element.currentMc.num!=b.status.show[0].menu[0]&&this.element.currentMc.num!=b.status.show[0].menu[1]?this.wrongFunc(this.element.currentMc):(this.element.currentMc.position.set(555,300),this.element.currentMc.scale.set(.8,.8),this.hitArr.push(this.element.currentMc),this.tempNum++,this.rightFunc(1)):this.wrongFunc(this.element.currentMc)}}},{key:"wrongFunc",value:function(e){var t=this;this.element.dragArr.forEach((function(e){e.sound.pause()})),this.element.sound.playSound("wrong"),v["TweenMax"].to(e,.2,{x:e.ox,y:e.oy,onComplete:function(){t.gameBox.removeChild(e),e=null}})}},{key:"rightFunc",value:function(e){var t=this;2==b.status.number?2==this.tempNum&&(this.tempNum=0,this.element.sendBtn.texture=this.element.sendBtn.textureArr[0],this.element.sendBtn.interactive=!0,this.element.sendBtn.buttonMode=!0):(this.element.sendBtn.texture=this.element.sendBtn.textureArr[0],this.element.sendBtn.interactive=!0,this.element.sendBtn.buttonMode=!0),this.element.dragArr.forEach((function(e){e.sound.pause()})),this.element.sound.playSound("hit"),this.element.dragArr[this.hitArr[e].num].count==Math.pow(2,this.element.dragArr[this.hitArr[e].num].count)?this.curMc=this.element.dragArr[this.hitArr[e].num].card1:this.curMc=this.element.dragArr[this.hitArr[e].num].card0,this.curMc.visible=!0,this.curMc.position.set(960,540),this.gameBox.addChild(this.curMc);var n=this.element.dragArr[this.hitArr[e].num].sound.play();this.element.sound.pauseSound(),n.on("end",(function(){t.curMc.visible=!1}))}},{key:"sendUp",value:function(e){0!=this.isSend&&(this.isSend=!1,this.element.sendBtn.texture=this.element.sendBtn.textureArr[1],this.element.sendBtn.interactive=!1,this.element.sendBtn.buttonMode=!1,this.element.sendBtn.scale.set(1,1))}},{key:"sendClick",value:function(e){var t=this;this.isSend=!0,this.element.sound.playSound("click"),e.currentTarget.scale.set(.9,.9),this.element.dragArr.forEach((function(e){e.interactive=!1})),this.element.rightAnimate.alpha=1,this.hitArr.forEach((function(e){e.visible=!1})),this.hitArr=[],this.gameBox.setChildIndex(this.element.rightAnimate,this.gameBox.children.length-1);var n=this.element.rightAnimate.state.setAnimation(0,"star"+(b.status.show[0].num+1),!1);b.status.show[0].isClickRight=!0,setTimeout((function(){t.element.sound.playSound("yoho")}),500),b.status.sendDown="send",setTimeout((function(){b.status.show[0].isClickRight=!1,b.status.right="right",b.status.sendDown="",t.element.rightAnimate.alpha=0,t.element.dragArr.forEach((function(e){e.interactive=!0}))}),1e3*n.animation.duration)}},{key:"hitTestRectangle",value:function(e,t){if(null==e||null==t)return-1;var n=e.x-e.width/2,i=e.y-e.height/2,s=n+e.width,a=i+e.height,r=t.x,o=t.y,u=r+t.width,l=o+t.height;if(n>u||s<r||i>l||a<o)return 0;var h=Math.min(s,u)-Math.max(n,r),m=Math.min(a,l)-Math.max(i,o);return h*m}}]),e}(),y=function(){function e(){u(this,e),this.leftTime=0,this.rightTime=0,this.timeText="",this.subjectInterval=null,this.timeTextStyle=null,this.timeTextStyle1=null}return h(e,[{key:"clearIntervalFunc",value:function(){this.subjectInterval&&clearInterval(this.subjectInterval)}},{key:"timeContainerCreate",value:function(e,t){this.subjectInterval&&clearInterval(this.subjectInterval),this.timeTextStyle=new PIXI.TextStyle({fontSize:50,wordWrap:!0,fontWeight:"bold",fill:"0xffffff",fontFamily:"微软雅黑"}),this.timeTextStyle1=new PIXI.TextStyle({fontSize:50,wordWrap:!0,fontWeight:"bold",fill:"0xff0000",fontFamily:"微软雅黑"});var n=parseFloat(e),i=0,s=0;i=n/1e3,s=[parseInt(i/60)>60?60:parseInt(i/60),parseInt(i/60)>60?0:i-60*parseInt(i/60)],this.leftTime=s[0]<10?"0"+s[0]:s[0],this.rightTime=s[1]<10?"0"+s[1]:s[1],this.timeText=new PIXI.Text(this.leftTime+":"+this.rightTime,this.timeTextStyle),this.timeText.anchor.set(.5,.5),this.timeText.x=210,this.timeText.y=53,t.addChild(this.timeText)}},{key:"canComputeTime",value:function(){var e=this;this.subjectInterval=setInterval((function(){e.rightTime=parseFloat(e.rightTime)-1,e.rightTime<10&&(5==parseInt(e.rightTime)&&(b.status.timeChange="half"),e.rightTime>=0&&(e.timeText.style=e.timeTextStyle1,e.rightTime="0"+e.rightTime),e.rightTime<0&&(0==parseFloat(e.leftTime)?(clearInterval(e.subjectInterval),e.leftTime="00",e.rightTime="00",b.status.timeChange="timeEnd"):(e.leftTime=parseFloat(e.leftTime)-1,e.leftTime<10?e.leftTime="0"+e.leftTime:0==e.leftTime&&(e.leftTime="00"),e.rightTime=59))),e.timeText.text=e.leftTime+":"+e.rightTime}),1e3)}}]),e}(),I=(n("a336"),function(){function e(t,n){u(this,e),this.gameBox=t,this.element={},this.time=10,this.menuNum=0,this.tableNum=-1,this.preTable=-1,this.TweenMaxArr=[null,null,null,null,null,null,null],this.clearCount=null,this.menuNumArr=[],this.missNum=0,this.answer=n,this.countNum=0,this.isFinish=!1,this.isSendDown=!1}return h(e,[{key:"init",value:function(){this.tableCreate();var e=PIXI.Sprite.fromImage(res["image_countD"].url);e.position.set(1620,28),this.gameBox.addChild(e);var t=new PIXI.TextStyle({fontSize:50,wordWrap:!0,fontWeight:"bold",fill:"#000000",fontFamily:"微软雅黑"}),n=new PIXI.Text("0",t);this.gameBox.addChild(n),n.position.set(e.x+e.width/2-n.width/2+20,50);var i=new y,s=PIXI.Sprite.fromImage(res["image_count"].url);s.x=parseFloat(question.sources[store.state.pageNumber].count.x),s.y=parseFloat(question.sources[store.state.pageNumber].count.y),0==question.sources[store.state.pageNumber].count.isClose||this.gameBox.addChild(s),i.timeContainerCreate(59e3,s);var a=PIXI.Sprite.fromImage(res["image_snow"].url);a.width=a.height=100,a.position.set(300,650),a.visible=!1,this.gameBox.addChild(a),a.interactive=!0,a.buttonMode=!0,a.on("pointertap",(function(){a.interactive=!1,a.buttonMode=!1,b.status.timeChange="porp",a.visible=!1})),0==question.sources[store.state.pageNumber].level?this.time=15:1==question.sources[store.state.pageNumber].level?this.time=12:2==question.sources[store.state.pageNumber].level&&(this.time=10);var r=[];question.sources[store.state.pageNumber].drags.option.forEach((function(e){0==e.obs&&r.push(e)}));var o=this;Object.defineProperty(b.status,"timeChange",{set:function(e){if("half"==e)o.isFinish=!0,clearTimeout(o.clearCount);else if("timeEnd"==e){o.answer.init({id:0,text:"A"}),u.destroy();var t=new PIXI.Graphics;t.beginFill(16777215,0),t.drawRect(0,0,1920,1080),t.interactive=!0,o.gameBox.addChild(t),o.element.sound.playSound("end");var i=o.element.sound.endDuragion();b.status.gameOver="over";var s=0;if(s=i>2800?i:2800,1==b.status.show.length){if(1!=b.status.show[0].isClickRight){var a=new PIXI.spine.Spine(res["animation_xingxing"].spineData);o.gameBox.addChild(a),a.state.setAnimation(0,"star"+(b.status.show[0].num+1),!1)}setTimeout((function(){o.endAnimateFunc(o.gameBox)}),s)}else if(2==b.status.show.length){var r=0;if(1!=b.status.show[0].isClickRight){var l=new PIXI.spine.Spine(res["animation_xingxing"].spineData);o.gameBox.addChild(l),l.state.setAnimation(0,"star"+(b.status.show[0].num+1),!1),r++}if(1!=b.status.show[1].isClickRight){var h=new PIXI.spine.Spine(res["animation_xingxing"].spineData);h.state.setAnimation(0,"star"+(b.status.show[1].num+1),!1),o.gameBox.addChild(h),r++}setTimeout((function(){n.text=parseInt(n.text)+r,o.endAnimateFunc(o.gameBox)}),s)}else setTimeout((function(){o.endAnimateFunc(o.gameBox)}),s)}else"porp"==e&&(o.time=2*o.time,setTimeout((function(){o.time=o.time/2}),8e3))}}),Object.defineProperty(b.status,"sendDown",{set:function(e){"send"==e&&(o.isSendDown=!0)}}),Object.defineProperty(b.status,"right",{set:function(e){"right"==e&&(o.isSendDown=!1,o.countNum++,n.text=o.countNum,5==o.countNum&&(a.visible=!0),o.element.progressArr[b.status.show[0].num].moveLeft.x=0,o.element.progressArr[b.status.show[0].num].alpha=0,o.element.progressArr[b.status.show[0].num].isF=!0,o.element.paoArr[b.status.show[0].num].alpha=0,o.element.paoArr[b.status.show[0].num].children.forEach((function(e){e.visible=!1})),b.status.show.shift(),o.menuNumArr.shift(),b.status.show[0]&&(b.status.currentTable=o.element.tableArr[b.status.show[0].num].num,b.status.number=o.element.tableArr[b.status.show[0].num].number))}});var u=new PIXI.ticker.Ticker,l=new w;l.init(),Object.assign(this.element,{countText:n,porp:a,cout:i,menuArr:r,ticker:u,sound:l})}},{key:"start",value:function(){this.element.cout.canComputeTime(),this.tableSelectFunc(),this.timeoutSet(),this.element.ticker.start(),this.tickMove()}},{key:"timeoutSet",value:function(){var e=this;this.clearCount=setTimeout((function(){e.tableSelectFunc(),0==e.isFinish&&e.timeoutSet()}),8e3)}},{key:"tableSelectFunc",value:function(){this.ranNumFunc(),b.status.show.push(this.element.progressArr[this.tableNum]),b.status.currentTable=this.element.tableArr[b.status.show[0].num].num;var e=parseInt(2*Math.random()+1);if(this.menuNumArr.push(e),this.element.tableArr[this.tableNum].number=e,b.status.number=this.element.tableArr[b.status.show[0].num].number,this.element.paoArr[this.tableNum].alpha=1,this.element.progressArr[this.tableNum].alpha=1,this.element.progressArr[this.tableNum].isF=!1,this.element.progressArr[this.tableNum].menu=[],1==e){var t=d(this.element.menuArr[this.menuNum]);this.element.progressArr[this.tableNum].menu=[this.menuNum],t.position.set(165,95),this.element.paoArr[this.tableNum].addChild(t),this.menuNum++,this.menuNum==this.element.menuArr.length&&(this.menuNum=0)}else{var n,i=d(this.element.menuArr[this.menuNum]);i.scale.set(.7,.7),i.position.set(100,95),this.element.progressArr[this.tableNum].menu.push(this.menuNum),this.element.paoArr[this.tableNum].addChild(i),this.menuNum==this.element.menuArr.length-1?(n=d(this.element.menuArr[0]),n.scale.set(.7,.7),n.position.set(230,95),this.element.paoArr[this.tableNum].addChild(n),this.element.progressArr[this.tableNum].menu.push(0),this.menuNum=1):this.menuNum==this.element.menuArr.length-2?(n=d(this.element.menuArr[this.menuNum+1]),this.element.progressArr[this.tableNum].menu.push(this.menuNum+1),n.scale.set(.7,.7),n.position.set(230,95),this.element.paoArr[this.tableNum].addChild(n),this.menuNum=0):(n=d(this.element.menuArr[this.menuNum+1]),this.element.progressArr[this.tableNum].menu.push(this.menuNum+1),n.scale.set(.7,.7),n.position.set(230,95),this.element.paoArr[this.tableNum].addChild(n),this.menuNum+=2)}}},{key:"ranNumFunc",value:function(){this.tableNum=parseInt(Math.random()*parseInt(question.sources[store.state.pageNumber].table.number)),this.tableNum==this.preTable?this.ranNumFunc():this.preTable=this.tableNum}},{key:"tableCreate",value:function(){for(var e=[],t=new PIXI.TextStyle({fontSize:question.sources[store.state.pageNumber].table.fontSize,wordWrap:!0,fontWeight:"bold",fill:question.sources[store.state.pageNumber].table.color,fontFamily:"微软雅黑"}),n=[question.sources[store.state.pageNumber].table.tableNum.table0,question.sources[store.state.pageNumber].table.tableNum.table1,question.sources[store.state.pageNumber].table.tableNum.table2,question.sources[store.state.pageNumber].table.tableNum.table3,question.sources[store.state.pageNumber].table.tableNum.table4,question.sources[store.state.pageNumber].table.tableNum.table5,question.sources[store.state.pageNumber].table.tableNum.table6],i=[],s=[],a=[[750,250],[1300,250],[750,500],[1300,500],[790,780],[1300,780],[300,780]],r=["image_table1","image_table2","image_table3","image_table4","image_table5","image_table6","image_table7"],o=0;o<parseInt(question.sources[store.state.pageNumber].table.number);o++){var u=PIXI.Sprite.fromImage(res[r[o]].url);u.position.set(a[o][0],a[o][1]),this.gameBox.addChild(u),e.push(u),u.num=n[o];var l=new PIXI.Text(n[o],t);l.position.set(u.x+u.width/2-l.width/2,u.y+u.height/2-l.height/2-25),this.gameBox.addChild(l);var h=new PIXI.Container,m=PIXI.Sprite.fromImage(res["image_progressBg"].url),d=PIXI.Sprite.fromImage(res["image_progress"].url),c=PIXI.Sprite.fromImage(res["image_progressTop"].url);c.position.set(-5,-1);var g=new PIXI.Graphics;g.beginFill(16777215,1),g.drawRect(0,0,m.width,m.height),g.endFill(),d.mask=g,h.num=o,h.moveLeft=g,h.moveNum=-m.width,h.distance=m.width,h.isF=!1,h.addChild(m),h.addChild(d),h.addChild(g),h.addChild(c),h.alpha=0,h.menu=[],this.gameBox.addChild(h),h.position.set(a[o][0]+u.width/2-35,a[o][1]+50),s.push(h);var p=PIXI.Sprite.fromImage(res["image_pao"].url);p.alpha=0,p.position.set(a[o][0]+u.width/2+50,a[o][1]-u.height/2+50),this.gameBox.addChild(p),i.push(p)}Object.assign(this.element,{numArr:n,progressArr:s,paoArr:i,tableArr:e})}},{key:"tickMove",value:function(){var e=this,t=79/(60*this.time);this.element.ticker.add((function(n){t=79/(60*e.time),b.status.show.forEach((function(n){n.moveLeft.x<=n.moveNum?(n.moveLeft.x=0,e.element.paoArr[b.status.show[0].num].alpha=0,n.alpha=0,n.isF=!0,e.element.paoArr[b.status.show[0].num].children.forEach((function(e){e.visible=!1})),0==e.isSendDown&&(b.status.timeEnd="end",b.status.show.shift(),e.menuNumArr.shift(),b.status.show[0]&&(b.status.number=e.element.tableArr[b.status.show[0].num].number,b.status.currentTable=e.element.tableArr[b.status.show[0].num].num),e.missNum++,e.missNum>=3&&(e.missNum=0,e.element.sound.playSound("lost")))):0==n.isF&&(n.moveLeft.x-=t)}))}))}},{key:"endAnimateFunc",value:function(){var e=this;if(question.sources.length-1==store.state.pageNumber){var t,n=new PIXI.Graphics;if(!0===question.one.after.endAnimate.isClose&&""!=question.one.after.endAnimate.animate_name){PIXI.sound.stopAll(),""!=question.one.after.endAudio.audio_name&&(t=res[question.one.after.endAudio.audio_name].sound,t.singleInstance=!0,t.play()),n.beginFill(0,.8),n.drawRect(0,0,1920,1080),n.endFill(),n.interactive=!0,e.gameBox.addChild(n);var i=m("talk",question.one.after.endAnimate,!1);i.state.addAnimation(0,"idle",!0,0),e.gameBox.addChild(i),i.interactive=!0,i.buttonMode=!0,i.on("pointertap",(function(){if(t&&t.pause(),""!=question.one.after.endAudio.name){var n=res[question.one.after.endAudio.name].sound;n.singleInstance=!0,n.play()}i.interactive=!1,i.buttonMode=!1,i.state.setAnimation(0,"touch",!1),i.state.addListener({complete:function(t,n){e.answer.submitAnswer()}})}))}else n.beginFill(0,.1),n.drawRect(0,0,1920,1080),n.endFill(),n.interactive=!0,e.elementObj.gameBox.addChild(n),e.answer.submitAnswer()}else{var s=stage.getChildByName("GAME").getChildByName("GAME"+store.state.pageNumber);s.visible=!1,store.state.pageNumber++;var a=stage.getChildByName("GAME").getChildByName("GAME"+store.state.pageNumber);a.visible=!0;var r=new A(a);r.init()}}}]),e}()),A=function(){function e(t,n){u(this,e),this.gameBox=t,this.element={},this.draging=!1,this.mc=null,this.disX=0,this.disY=0,this.answer=n,this.isSend=!1}return h(e,[{key:"init",value:function(){this.answer.questionInfo({id:store.state.pageNumber,currentTotalOption:1,totalQuestion:1}),this.gameBox.children.forEach((function(e){e.visible=!1}));var e=new x(this.gameBox);e.init();var t=new I(this.gameBox,this.answer);t.init(),Object.assign(this.element,{drag:e,table:t})}},{key:"start",value:function(){this.guideFunc()}},{key:"guideFunc",value:function(){var e=this,t=new PIXI.Graphics;t.beginFill(16746598,0),t.drawRect(0,0,355,320),t.endFill(),t.position.set(300,150),this.gameBox.addChild(t),Object.assign(this.element,{hitArea:t});var n=res[question.sources[store.state.pageNumber].sound.enter.audio_name].sound;n.singleInstance=!0;var i=n.play(),s=PIXI.Sprite.fromImage(res["image_pao"].url);s.position.set(1e3,150),this.gameBox.addChild(s);var a=d(question.sources[store.state.pageNumber].drags.option[0]);s.addChild(a),a.position.set(165,95),Object.assign(this.element,{paoImg:s}),i.on("end",(function(){var t=res[question.sources[store.state.pageNumber].sound.guide0.audio_name].sound;t.singleInstance=!0;t.play();var n=new PIXI.spine.Spine(res["animation_tuozhuaizhiyin"].spineData);n.state.setAnimation(0,"animation",!0),n.position.set(0,100);var i=d(question.sources[store.state.pageNumber].drags.option[0]);e.gameBox.addChild(i),i.position.set(135,360),i.on("pointerdown",e.mousedown.bind(e)),e.mc=i,e.mc.ox=i.x,e.mc.oy=i.y,e.gameBox.addChild(n),i.interactive=!0,i.buttonMode=!0,stage.on("pointermove",e.stageMove.bind(e)),stage.on("pointerup",e.stageUp.bind(e)),stage.on("pointerupoutside",e.stageUp.bind(e)),Object.assign(e.element,{guideAnimate:n,guide0:t,img:i})}))}},{key:"mousedown",value:function(e){this.disX=e.data.global.x-parseInt(this.mc.x),this.disY=e.data.global.y-parseInt(this.mc.y),this.isDraging=!0,this.element.guideAnimate.visible=!1}},{key:"stageMove",value:function(e){1==this.isDraging&&(this.mc.x=e.data.global.x-this.disX,this.mc.y=e.data.global.y-this.disY)}},{key:"stageUp",value:function(e){this.isDraging=!1;var t=this.hitTestRectangle(this.mc,this.element.hitArea);if(t>0){stage.off("pointermove"),stage.off("pointerup"),stage.off("pointerupoutside"),this.mc.position.set(470,300);var n=PIXI.Sprite.fromImage(res["image_send0"].url);n.textureArr=[new PIXI.Texture(res["image_send0"].texture),new PIXI.Texture(res["image_send1"].texture)],n.texture=n.textureArr[0],n.position.set(330,500),n.interactive=!0,n.buttonMode=!0,this.gameBox.addChild(n),n.on("pointerdown",this.sendClick.bind(this)),n.on("pointerup",this.sendUp.bind(this)),n.on("pointerupoutside",this.sendUp.bind(this));var i=res[question.sources[store.state.pageNumber].sound.guide1.audio_name].sound;i.singleInstance=!0;i.play();this.element.guide0.pause(),Object.assign(this.element,{sendBtn:n})}else TweenMax.to(this.mc,.2,{x:this.mc.ox,y:this.mc.oy,onComplete:function(){}})}},{key:"sendUp",value:function(e){0!=this.isSend&&(this.element.sendBtn.texture=this.element.sendBtn.textureArr[1],this.element.sendBtn.interactive=!1,this.element.sendBtn.buttonMode=!1,this.element.sendBtn.scale.set(1,1))}},{key:"sendClick",value:function(e){var t=this;this.isSend=!0;var n=new PIXI.spine.Spine(res["animation_xingxing"].spineData);this.gameBox.addChild(n),n.state.setAnimation(0,"star1",!1),this.mc.visible=!1,setTimeout((function(){n.visible=!1,t.element.sendBtn.visible=!1,t.element.paoImg.visible=!1,t.element.img.visible=!1,t.element.drag.start(),t.element.table.start()}),2800)}},{key:"hitTestRectangle",value:function(e,t){if(null==e||null==t)return-1;var n=e.x-e.width/2,i=e.y-e.height/2,s=n+e.width,a=i+e.height,r=t.x,o=t.y,u=r+t.width,l=o+t.height;if(n>u||s<r||i>l||a<o)return 0;var h=Math.min(s,u)-Math.max(n,r),m=Math.min(a,l)-Math.max(i,o);return h*m}}]),e}(),N=function(){function e(t){u(this,e),this.answer=t}return h(e,[{key:"init",value:function(){var e=stage.getChildByName("GAME").getChildByName("GAME"+store.state.pageNumber).getChildByName("componentContainer"),t=new A(e,this.answer);t.init();var n={status:""};Object.defineProperty(n,"status",{get:function(){},set:function(e){this.value=e,t.start()}});var i=new p;i.init(e,n)}}]),e}(),B=(n("9a33e"),function(){function e(){u(this,e),this.requestID=null}return h(e,[{key:"tickerRender",value:function(e,t){var n=this;e||(e=25);var i=performance.now(),s=1e3/e,a=.1,r=function e(r){n.requestID=requestAnimationFrame(e);var o=r-i;o>=s-a&&(i=r-o%s,t(o))};this.requestID=requestAnimationFrame(r)}},{key:"getRequest",value:function(e){var t=window.location.href,n={};if(-1!=t.indexOf("?"))for(var i=t.split("?")[1],s=i.split("&"),a=0;a<s.length;a++)n[s[a].split("=")[0]]=s[a].split("=")[1];return n[e]}},{key:"start",value:function(e){var t=this;window.app&&(window.app.stop(),window.app.stop=function(){t.requestID&&cancelAnimationFrame(t.requestID)});var n=this.getRequest("gl_fps");this.tickerRender(n,(function(){window.app&&window.app.render()}))}}]),e}()),S=new AnswerInfo,C={name:"index",data:function(){return{number:0}},methods:{createApp:function(){return new a["Application"]({width:1920,height:window.screenRatio?1440:1080,autoSize:!0,transparent:!0,autoStart:!1})}},created:function(){var e=document.getElementsByClassName("page-loading")[0];e.style.display="block"},destroyed:function(){PIXI.sound.stopAll(),app.destroy()},mounted:function(){var e=this;PIXI.sound.stopAll();var t=document.getElementsByClassName("page-loading")[0];t.style.display="block";var n=document.getElementsByClassName("canvas")[0];n.style.height=window.screenRatio?"14.4rem":"10.8rem";for(var i=document.getElementsByClassName("container"),s=0;s<i.length;s++)i[s].style.height=window.screenRatio?"14.4rem":"10.8rem";window.app=this.createApp(),app.view.style.width="19.2rem",app.view.style.height=window.screenRatio?"14.4rem":"10.8rem",app.view.id="appCanvas",window.stage=app.stage;var a=this;a.$refs.canvas.appendChild(app.view),stage.interactive=!0,Object(r["load"])().then((function(t){console.log("%c资源加载完啦✌️","color:#FF323B;font-weight:bold;"),e.$nextTick((function(){window.question=t.question.data,g=t.question.data,t.question.data,store.state.testNum=g.sources.length;var n=document.getElementsByClassName("page-loading")[0];n.style.display="none","undefined"===e.$route.query.id||void 0===e.$route.query.id?e.number=0:e.number=parseInt(e.$route.query.id);var i=new o["xesPreviewStart"](g.one.start,t);S.loading();var s=new B;s.start(),S.initLabel(0);for(var r=g.sources.length,u=0;u<r;u++)S.initRightAnswer({id:u,type:0,rightAnswer:[{id:0,text:"A"}]});if(Object(o["RenderAllData"])(!1,g),store.state.pageNumber=e.number,Object(o["RenderPageByIndex"])(store.state.pageNumber),a.$route.query.startStatus)if(window.question.one.start.show&&"true"==a.$route.query.startStatus)stage.addChild(i),i.button((function(){stage.removeChild(i),stage.getChildByName("gameBgSound")&&stage.setChildIndex(stage.getChildByName("gameBgSound"),stage.children.length-1);var e=new N(S);e.init()}));else{var l=new N(S);l.init()}else if(window.question.one.start.show)stage.addChild(i),i.button((function(){stage.removeChild(i),stage.getChildByName("gameBgSound")&&stage.setChildIndex(stage.getChildByName("gameBgSound"),stage.children.length-1);var e=new N(S);e.init()}));else{var h=new N(S);h.init()}}))}))}},M=C,T=(n("6de0"),n("4023")),k=Object(T["a"])(M,i,s,!1,null,"9f0d5246",null);t["default"]=k.exports}}]);